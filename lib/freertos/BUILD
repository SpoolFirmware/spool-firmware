cc_library(
    name="headers",
    hdrs=glob(["include/*.h"]),
    textual_hdrs=glob(["include/*.h"]),
    strip_include_prefix="include",
    include_prefix=".",
    visibility=["//visibility:public"]
)

cc_library(
    name="freertos",
    srcs=[
        "list.c",
        "queue.c",
        "tasks.c",
        "stream_buffer.c",
        "timers.c",
        "libs/MemMang/heap_1.c",
    ],
    deps=[
        ":headers",
        "//lib/freertos/portable:lib",
    ],
    alwayslink=True,
    visibility=["//visibility:public"]
)
